<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" layout:decorate="layout/adminPanel.html">
<div layout:fragment="contentPage">

 <div class="row">
     <div class="col-6">
    <form th:action="@{'/editUser'}" method="post">
        <input type="hidden" th:value="${user.id}" name="id">
        <div class="row mt-3">
            <div class="col-12">
                <label >EMAIL :</label>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col-12">
                <input type="email" class="form-control" name="user_email" th:value="${user.email}"  >
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-12">
                <label >PASSWORD :</label>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col-12">
                <input type="password"  class="form-control" name="user_password"  required>
            </div>
        </div>


        <div class="row mt-3">
            <div class="col-12">
                <label >FULL NAME :</label>
            </div>
        </div>

        <div class="row mt-2">
            <div class="col-12">
                <input type="text"  class="form-control" name="full_name" th:value="${user.fullName}"  required>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-12">
                <label >Picture url :</label>

            </div>
        </div>


        <div class="row mt-2">
            <div class="col-12">
        <input type="text" class="form-control" name="picture_url" th:value="${user.pictureURL}" >
            </div>
        </div>

        <div class="mt-3">
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button style="background-color: rgba(21, 97, 69, 1); color: white" class="btn  me-md-2" ><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sd-card-fill m-1" viewBox="0 0 16 16">
                    <path d="M12.5 0H5.914a1.5 1.5 0 0 0-1.06.44L2.439 2.853A1.5 1.5 0 0 0 2 3.914V14.5A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-13A1.5 1.5 0 0 0 12.5 0Zm-7 2.75a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .75-.75Zm2 0a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .75-.75Zm2.75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 1.5 0Zm1.25-.75a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .75-.75Z"/>
                </svg> Save </button>
            </div>
        </div>

    </form>
     </div>

        <div class="col-6 mx-auto">
            <table class="table table-striped  table-hover">
                <thead>
                <tr>
                    <th colspan="2" >Roles </th>
                    <th style="width:7%" >Assign</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="r : ${user.roles}">
                    <td th:text="${r.role}" colspan="2"></td>
                    <td style="width:7%" >
                        <form th:action="@{'/unasignroles'}" method="post">
                            <input type="hidden" name="role_id" th:value="${r.id}">
                            <input type="hidden" name="user_id" th:value="${user.id}">
                            <button class="btn btn-danger">-</button>
                        </form>
                    </td>
                </tr>
                <tr th:each="r : ${roles}">
                    <td th:text="${r.role}" colspan="2"></td>
                    <td style="width: 7%" >
                        <form th:action="@{'/asignroles'}" method="post">
                            <input type="hidden" name="role_id" th:value="${r.id}">
                            <input type="hidden" name="user_id" th:value="${user.id}">
                            <button class="btn " style="background-color: rgba(21, 97, 69, 1);color: white">+</button>
                        </form>
                    </td>
                </tr>
                </tbody>
            </table>

        </div>
    </div>


</div>
</html>